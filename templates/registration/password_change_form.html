{% extends 'layout.html' %}

{% load static %}

{% block title %}
Change Password
{% endblock title %}

{% block styles %}
<link rel="stylesheet" href="{% static 'accounts/css/password_change.css' %}">
{% endblock styles %}

{% block scripts %}
<script src="{% static 'accounts/js/password_change.js' %}" defer></script>
{% endblock scripts %}

{% block content %}
    <main>

        <h1>Change your password</h1>
        <section class="form-container">
            <div class="banner-section">
                <img src="{% static 'accounts/images/banner.webp' %}" alt="">
            </div>

            <div class="password-change-form">
                <form action="" method="post" novalidate>
                    {% csrf_token %}
                    <div>
                        <label for="id_old_password">{{ form.old_password.label}}</label>
                        <i class="fas input-icon fa-lock"></i>{{ form.old_password}}
                        <button type="button" title="Show old_password" id="show-old-password"><i class="fas fa-eye"></i></button>
                        {% if form.old_password.errors %}
                            <div  class="error">
                                {% for error in form.old_password.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <div>
                        <label for="id_new_password1">{{ form.new_password1.label}}</label>
                        <i class="fas input-icon fa-lock"></i>{{ form.new_password1}}
                        <button type="button" title="Show new_password1" id="show-new-password1"><i class="fas fa-eye"></i></button>
                        {% if form.new_password1.errors %}
                            <div  class="error">
                                {% for error in form.new_password1.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <div>
                        <label for="id_new_password2">{{ form.new_password2.label}}</label>
                        <i class="fas input-icon fa-lock"></i>{{ form.new_password2}}
                        <button type="button" title="Show new_password2" id="show-new-password2"><i class="fas fa-eye"></i></button>
                        {% if form.new_password2.errors %}
                            <div  class="error">
                                {% for error in form.new_password2.errors %}
                                    <p>{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    <button type="submit">Change the password</button>
                </form>

                <fieldset>
                    <legend>OR</legend>
                    <p>
                        Forgot old password? <a href="{% url 'accounts:register' %}">Reset</a>
                    </p>
                </fieldset>
            </div>
        </section>
    </main>
{% endblock content %}